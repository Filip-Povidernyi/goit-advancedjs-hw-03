{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from \"axios\";\naxios.defaults.headers.common[\"x-api-key\"] =\n    \"live_xHKc8FIBjkm1E18PddbFIzDWm1A3cqdNob17m8SynQtgQRslGe43lBLgRPbecUZK\";\n\n\n\nexport async function fetchBreeds() {\n    const response = await axios.get('https://api.thecatapi.com/v1/breeds');\n    return response.data;\n}\n\nexport async function fetchCatByBreed(breedId) {\n    const response = await axios.get(\n        `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`\n    );\n    return response.data;\n}\n","import { fetchBreeds, fetchCatByBreed } from \"./cat-api\";\nimport './styles.css';\nimport iziToast from \"izitoast\";\nimport SlimSelect from 'slim-select';\n\nconst selector = document.querySelector('.breed-select');\nconst loader = document.querySelector('.loader');\nconst divCatInfo = document.querySelector('.cat-info');\nconst error = document.querySelector('.error');\n\nerror.classList.add('is-hidden');\n\nasync function markupCreate() {\n    try {\n        const breeds = await fetchBreeds();\n        loader.style.display = 'none';\n        renBreeds(breeds);\n        selector.style.display = 'flex';\n        slimSelect();\n    } catch {\n        handlerError();\n    } finally {\n        loader.classList.add('is-hidden');\n    };\n};\n\n\ndocument.addEventListener('DOMContentLoaded', markupCreate);\nselector.addEventListener('change', selectorHandler);\n\nfunction renBreeds(breeds) {\n    const markup = breeds\n        .map(({ id, name }) => {\n            return `<option value=\"${id}\">${name}</option>`;\n        })\n        .join('');\n    selector.innerHTML = `<select class=\"breed-select\" id=\"selectElem\" placeholder='Cat change'>${markup}</select>`;\n};\n\nasync function selectorHandler(event) {\n\n    try {\n        event.preventDefault();\n        const breedId = event.currentTarget.value\n        await fetchCatByBreed(breedId)\n            .then(data => {\n                divCatInfo.style.display = 'flex';\n                const markup = `\n                <img class=\"cat-img\" src=\"${data[0].url}\" alt=\"${data[0].breeds[0].alt_names}\" />\n                <div class=\"breed-info\">\n                  <h1 class=\"cat-name\">${data[0].breeds[0].name}</h1>\n                      <p class=\"description\">${data[0].breeds[0].description}</p>\n                      <h2 class=\"temperament\">Temperament:</h2>\n                      <p class=\"temp-descr\">${data[0].breeds[0].temperament}</p>\n                </div>\n              `;\n                divCatInfo.innerHTML = markup;\n            });\n    } catch {\n        handlerError();\n    };\n};\n\nfunction slimSelect() {\n    new SlimSelect('.breed-select');\n};\n\nfunction handlerError() {\n\n    iziToast.error({\n        message: 'Error fetching cat information! Try again!',\n        position: 'topRight',\n    });\n};\n"],"names":["axios","fetchBreeds","fetchCatByBreed","breedId","selector","loader","divCatInfo","error","markupCreate","breeds","renBreeds","slimSelect","handlerError","selectorHandler","markup","id","name","event","data","SlimSelect","iziToast"],"mappings":"owBACAA,EAAM,SAAS,QAAQ,OAAO,aAC1B,wEAIG,eAAeC,GAAc,CAEhC,OADiB,MAAMD,EAAM,IAAI,qCAAqC,GACtD,IACpB,CAEO,eAAeE,EAAgBC,EAAS,CAI3C,OAHiB,MAAMH,EAAM,IACzB,wDAAwDG,GAChE,GACoB,IACpB,CCXA,MAAMC,EAAW,SAAS,cAAc,eAAe,EACjDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAa,SAAS,cAAc,WAAW,EAC/CC,EAAQ,SAAS,cAAc,QAAQ,EAE7CA,EAAM,UAAU,IAAI,WAAW,EAE/B,eAAeC,GAAe,CAC1B,GAAI,CACA,MAAMC,EAAS,MAAMR,IACrBI,EAAO,MAAM,QAAU,OACvBK,EAAUD,CAAM,EAChBL,EAAS,MAAM,QAAU,OACzBO,GACR,MAAM,CACEC,GACR,QAAc,CACNP,EAAO,UAAU,IAAI,WAAW,CACxC,CACA,CAGA,SAAS,iBAAiB,mBAAoBG,CAAY,EAC1DJ,EAAS,iBAAiB,SAAUS,CAAe,EAEnD,SAASH,EAAUD,EAAQ,CACvB,MAAMK,EAASL,EACV,IAAI,CAAC,CAAE,GAAAM,EAAI,KAAAC,KACD,kBAAkBD,MAAOC,YACnC,EACA,KAAK,EAAE,EACZZ,EAAS,UAAY,yEAAyEU,YAClG,CAEA,eAAeD,EAAgBI,EAAO,CAElC,GAAI,CACAA,EAAM,eAAc,EACpB,MAAMd,EAAUc,EAAM,cAAc,MACpC,MAAMf,EAAgBC,CAAO,EACxB,KAAKe,GAAQ,CACVZ,EAAW,MAAM,QAAU,OAC3B,MAAMQ,EAAS;AAAA,4CACaI,EAAK,GAAG,aAAaA,EAAK,GAAG,OAAO,GAAG;AAAA;AAAA,yCAE1CA,EAAK,GAAG,OAAO,GAAG;AAAA,+CACZA,EAAK,GAAG,OAAO,GAAG;AAAA;AAAA,8CAEnBA,EAAK,GAAG,OAAO,GAAG;AAAA;AAAA,gBAGhDZ,EAAW,UAAYQ,CACvC,CAAa,CACb,MAAM,CACEF,GACR,CACA,CAEA,SAASD,GAAa,CAClB,IAAIQ,EAAW,eAAe,CAClC,CAEA,SAASP,GAAe,CAEpBQ,EAAS,MAAM,CACX,QAAS,6CACT,SAAU,UAClB,CAAK,CACL"}